version: 2

sources:
  - name: erp
    description: "Adventure Works ERP system data (SAP)"
    schema: "raw_adventure_works"
    tables:
      - name: persons
        identifier: person_person
        description: "Normalized data about persons, including customers, employees, vendors, and contacts."
        columns:
          - name: businessentityid
            description: "Primary key for person or business entity."
            tests:
              - unique
              - not_null
          - name: persontype
            description: "Type of person. Values: EM = Employee, SP = Sales Person, SC = Store Contact, VC = Vendor Contact, IN = Individual (customer), GC = General Contact."
            tests:
              - not_null

      - name: payments
        identifier: sales_creditcard
        description: "Payment methods information"
        columns:
          - name: creditcardid
            description: "Primary key for credit card"
            tests:
              - unique
              - not_null

      - name: customers
        identifier: sales_customer
        description: "CRM customer information"
        columns:
          - name: customerid
            description: "Primary key for customer"
            tests:
              - unique
              - not_null

      - name: salesreasons
        identifier: sales_salesreason
        description: "Sales reason codes"
        columns:
          - name: salesreasonid
            description: "Primary key for sales reason"
            tests:
              - unique
              - not_null

      - name: salespersons
        identifier: sales_salesperson
        description: "Salesperson information"
        columns:
          - name: businessentityid
            description: "Primary key for salesperson"
            tests:
              - unique
              - not_null

      - name: employees
        identifier: human_resources_employee
        description: "Employee information"
        columns:
          - name: businessentityid
            description: "Primary key for employee"
            tests:
              - unique
              - not_null

      - name: stateprovinces
        identifier: person_stateprovince
        description: "State and province information"
        columns:
          - name: stateprovinceid
            description: "Primary key for state/province"
            tests:
              - unique
              - not_null

      - name: addresses
        identifier: person_address
        description: "Address information"
        columns:
          - name: addressid
            description: "Primary key for address"
            tests:
              - unique
              - not_null
          - name: addressline1
            description: "First address line"
            tests:
              - not_null
          - name: stateprovinceid
            description: "Foreign key to state/province"
            tests:
              - not_null

      - name: countryregions
        identifier: person_countryregion
        description: "Country and region information"
        columns:
          - name: countryregioncode
            description: "Primary key for country/region"
            tests:
              - unique
              - not_null
          - name: name
            description: "Country/region name"
            tests:
              - not_null

      - name: salesorderheaders
        identifier: sales_salesorderheader
        description: "Sales order header information"
        columns:
          - name: salesorderid 
            description: "Primary key for sales order"
            tests:
              - unique
              - not_null
          - name: orderdate
            description: "Date when order was placed"
            tests:
              - not_null
          - name: customerid
            description: "Foreign key to customer"
            tests:
              - not_null

      - name: salesorderheadersalesreason
        identifier: sales_salesorderheadersalesreason
        description: "Sales reason for sales order header"
        columns:
          - name: salesorderid
            description: "Foreign key to sales order header"
            tests:
              - not_null

      - name: salesorderdetails
        identifier: sales_salesorderdetail
        description: "Sales order line items"
        columns:
          - name: salesorderid
            description: "Foreign key to sales order header"
            tests:
              - not_null
          - name: salesorderdetailid
            description: "Primary key for order detail"
            tests:
              - unique
              - not_null

      - name: products
        identifier: production_product
        description: "Product catalog information"
        columns:
          - name: productid
            description: "Primary key for product"
            tests:
              - unique
              - not_null

      - name: productcategories
        identifier: production_productcategory
        description: "Product category information"
        columns:
          - name: productcategoryid
            description: "Primary key for product category"
            tests:
              - unique
              - not_null

      - name: productsubcategories
        identifier: production_productsubcategory
        description: "Product subcategory information"
        columns:
          - name: productsubcategoryid
            description: "Primary key for product subcategory"
            tests:
              - unique
              - not_null
         
      - name: stores
        identifier: sales_store
        description: "Store information"
        columns:
          - name: businessentityid
            description: "Primary key for store"
            tests:
              - unique
              - not_null
          - name: salespersonid
            description: "Foreign key to salesperson"
            tests:
            - not_null


   